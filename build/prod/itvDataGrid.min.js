"use strict";var itvGridModule=angular.module("itvGrid",["itvDataResource","ui.bootstrap","itvPanelDirectives","itvFilters","itvUtilDirectives","itvUtilsService","itvAnimations"]);itvGridModule.directive("itvGrid",["DataResource","$log","UtilsService",function(DataResource,$log,UtilsService){return{restrict:"E",scope:{},templateUrl:"itvGridTemplates/src/templates/itvGrid.html",link:function(scope,element,attrs){scope.title=attrs.itvGridTitle||"Data Grid",scope.itemsPorPagina=10,scope.itemsTotales=0,scope.orderBy={headerName:"",asc:!1},scope.insertRow={},scope.originalEditingRow={},scope.copiedEditingRow={},scope.hiddenColumns=[],scope.advancedFilterActive=!1,scope.advancedFilterObj={},scope.paramHeaders=[],scope.notEditableFields=[],scope.allowCUD=!1,scope.editActive=!1,scope.masterDetailActive=!1,scope.detailCols=[],attrs.itvGridColumns&&angular.forEach(attrs.itvGridColumns.split(","),function(value){scope.paramHeaders.push(value)}),attrs.itvGridHide&&angular.forEach(attrs.itvGridHide.split(","),function(value){scope.hiddenColumns.push(value)}),"true"===attrs.itvGridAllowcud&&(scope.allowCUD=!0),"true"===attrs.itvGridMasterDetail&&(scope.masterDetailActive=!0),attrs.itvGridDetailCols&&(angular.forEach(attrs.itvGridDetailCols.split(","),function(value){scope.detailCols.push(value)}),_.isEmpty(scope.detailCols)&&(scope.masterDetailActive=!1));var specificConfigDataService={};if(attrs.itvGridUrl&&attrs.itvGridUrl!==DataResource.getUrl()&&(specificConfigDataService.url=attrs.itvGridUrl),attrs.itvGridId&&(specificConfigDataService.id=attrs.itvGridId),attrs.itvGridParamName&&attrs.itvGridParamValue){var key=attrs.itvGridParamName,value=attrs.itvGridParamValue,params={};params[key]=value,specificConfigDataService.params=params}attrs.itvGridStripUpdateid&&("true"===attrs.itvGridStripUpdateid?specificConfigDataService.requestDataTx=UtilsService.getStripIdOnUpdateTransformer():"false"===attrs.itvGridStripUpdateid&&(specificConfigDataService.requestDataTx=UtilsService.getSimpleTransformer()));var dataResourceInstance=UtilsService.getSpecificDataService(specificConfigDataService);scope.notEditableFields.push(dataResourceInstance.getIdField()),attrs.itvGridNoteditable&&angular.forEach(attrs.itvGridNoteditable.split(","),function(value){scope.notEditableFields.push(value)}),scope.setOrderBy=function(header){console.log("ordenando by "+header),scope.clearEditMode(),scope.orderBy.asc=scope.orderBy.headerName===header?!scope.orderBy.asc:!0,scope.orderBy.headerName=header},scope.$watch("searchFilter",function(filterText){if(scope.clearEditMode(),!scope.advancedFilterActive&&!angular.isUndefined(scope.filteredData)){var filterParams=filterText;filterParams&&(filterParams=UtilsService.createCustomFilterFunction(filterText,scope.headers)),scope.filteredData=UtilsService.filterData(filterParams,scope.data),scope.itemsTotales=scope.filteredData.length,scope.firstLastTotalObj=UtilsService.getFirstLastTotalObject(scope.pagina,scope.itemsTotales,scope.itemsPorPagina)}}),scope.reloadData=function(){scope.clearEditMode(),dataResourceInstance.query().then(function(data){scope.data=data,scope.filteredData=data;var baseHeaders=scope.paramHeaders.length>0?scope.paramHeaders:_.pairs(data[0]);scope.headers=UtilsService.createHeaders(baseHeaders,scope.notEditableFields,scope.hiddenColumns,dataResourceInstance.getIdField()),scope.itemsTotales=scope.filteredData.length,scope.cambioPagina(1),scope.searchFilter="",scope.genericSearchFilter="",scope.firstLastTotalObj=UtilsService.getFirstLastTotalObject(scope.pagina,scope.itemsTotales,scope.itemsPorPagina)})},scope.deleteData=function(deletedResource){$log.log("borrando id: "+deletedResource.$id()),deletedResource.$remove().then(function(){scope.reloadData()})},scope.updateData=function(editedResource){$log.log("Actualizando id: "+editedResource.$id()),editedResource.$update().then(function(){scope.reloadData()})},scope.insertData=function(){dataResourceInstance.save(scope.insertRow).then(function(){scope.insertRow={},scope.insertMode=!1,scope.reloadData()})},scope.setRowEditable=function(editedResource){editedResource===scope.originalEditingRow?scope.clearEditMode():(scope.clearEditMode(),editedResource.editMode=!editedResource.editMode,scope.originalEditingRow=editedResource,angular.copy(_.omit(editedResource,"editMode"),scope.copiedEditingRow),scope.editActive=!0)},scope.checkDisabledField=function(fieldName){return _.contains(scope.notEditableFields,fieldName)},scope.clearEditMode=function(){_.isEmpty(scope.originalEditingRow)||(scope.originalEditingRow.editMode=!1,scope.originalEditingRow={},scope.copiedEditingRow={},scope.editActive=!1)},scope.reloadFilter=function(){if(scope.advancedFilterActive)scope.advancedFilterObj=UtilsService.createAdvancedFilterObj(scope.headers,scope.advancedFilterObj),scope.filteredData=UtilsService.filterData(scope.advancedFilterObj,scope.data);else if(angular.isString(scope.searchFilter)&&scope.searchFilter){var customFilterFunction=UtilsService.createCustomFilterFunction(scope.searchFilter,scope.headers);scope.filteredData=UtilsService.filterData(customFilterFunction,scope.data)}scope.itemsTotales=scope.filteredData.length},scope.addDetailIndex=function(index){scope.masterDetailActive&&!scope.editActive&&(scope.detailIndex=index==scope.detailIndex?-1:index)},scope.isRowClickable=function(){return scope.masterDetailActive&&!scope.editActive?"clickable":""},scope.reloadData()}}}]);var markdownModule=angular.module("itvMarkdownModule",[]);markdownModule.directive("itvMarkdown",function(){var converter=new Showdown.converter;return{restrict:"E",replace:!0,link:function(scope,element){var convertedText=converter.makeHtml(element.text());element.html(convertedText)}}});var itvUtilDirectivesModule=angular.module("itvUtilDirectives",["itvMessagesModule","ngAnimate"]);itvUtilDirectivesModule.directive("itvCheckboxlist",["$log",function(){return{scope:{list:"=itvCheckboxlist",value:"@"},link:function(scope,elem){var modelToView=function(){var checked=elem.prop("checked"),index=scope.list.indexOf(scope.value);checked&&-1==index?elem.prop("checked",!1):checked||-1==index||elem.prop("checked",!0)},viewToModel=function(){var checked=elem.prop("checked"),index=scope.list.indexOf(scope.value);checked&&-1==index?scope.list.push(scope.value):checked||-1==index||scope.list.splice(index,1)};elem.bind("change",function(){scope.$apply(viewToModel())}),elem.bind("click",function(){scope.$apply(viewToModel())}),scope.$watch("list",modelToView,!0)}}}]),itvUtilDirectivesModule.directive("itvEnterkey",function(){return function(scope,element,attrs){element.bind("keydown keypress",function(event){13===event.which&&(event.preventDefault(),scope.$apply(function(){scope.$eval(attrs.itvEnterkey)}))})}}),itvUtilDirectivesModule.directive("itvBlur",function(){return function(scope,element,attrs){element.bind("blur",function(){scope.$apply(function(){scope.$eval(attrs.itvBlur)})})}}),itvUtilDirectivesModule.directive("itvMessage",["$interpolate","itvMessages",function($interpolate,itvMessages){return{restrict:"A",scope:!0,compile:function(tElem,tAttr){var params=tAttr.itvMessageParam?tAttr.itvMessageParam:void 0;return function(scope,elem,attrs){attrs.itvMessage&&(scope.literal=itvMessages[attrs.itvMessage]||attrs.itvMessage);var updateValue=function(){scope.value=$interpolate(scope.literal)(scope.$parent),elem.html(scope.value)};params&&attrs.$observe("itvMessageParam",function(){updateValue()}),updateValue()}}}}]),itvUtilDirectivesModule.directive("itvTooltipfade",["$timeout",function($timeout){return function(scope,elem,attrs){elem.bind("mouseover",function(){var timeout=attrs.itvTooltipfade||2e3;$timeout(function(){scope.tt_isOpen=!1},timeout)})}}]),itvUtilDirectivesModule.directive("itvAnimate",["$animate",function($animate){return{scope:!0,link:function(scope,element,attrs){var classToAdd=attrs.itvAnimateClass?attrs.itvAnimateClass:"itvAnimate";scope.$watch(attrs.itvAnimate,function(newValue){newValue?$animate.addClass(element,classToAdd):$animate.removeClass(element,classToAdd)})}}}]);var panelDirectivesModule=angular.module("itvPanelDirectives",["ui.bootstrap","itvUtilDirectives","itvUtilsService"]);panelDirectivesModule.directive("itvPanelheader",function(){return{restrict:"E",templateUrl:"itvGridTemplates/src/templates/panelHeader.html",replace:!0,link:function(scope){scope.isCollapsed=!1,scope.collapse=function(){scope.isCollapsed=!scope.isCollapsed}}}}),panelDirectivesModule.directive("itvPanelfooter",["UtilsService",function(UtilsService){return{restrict:"E",templateUrl:"itvGridTemplates/src/templates/panelFooter.html",replace:!0,link:function(scope){scope.pagina=1,scope.cambioPagina=function(pagina){console.log("invocado cambio de pagina: "+pagina),scope.clearEditMode(),scope.detailIndex=-1,scope.pagina=pagina,scope.firstLastTotalObj=UtilsService.getFirstLastTotalObject(scope.pagina,scope.itemsTotales,scope.itemsPorPagina)},scope.getItemsShown=function(){return scope.filteredData?scope.filteredData.length<scope.itemsPorPagina?scope.filteredData.length:scope.itemsPorPagina:0}}}}]),panelDirectivesModule.directive("itvPanelbody",["$modal","UtilsService",function($modal,UtilsService){return{restrict:"E",templateUrl:"itvGridTemplates/src/templates/panelBody.html",replace:!0,link:function(scope){scope.insertMode=!1,scope.setInsertMode=function(){scope.clearEditMode(),scope.insertMode=!scope.insertMode},scope.clearAdvancedFilter=function(){scope.advancedFilterActive=!1,scope.advancedFilterObj={},scope.filteredData=scope.data,scope.itemsTotales=scope.filteredData.length},scope.doGenericFilter=function(){scope.searchFilter=scope.genericSearchFilter?scope.genericSearchFilter:""},scope.updateLiteral=function(){scope.firstLastTotalObj=UtilsService.getFirstLastTotalObject(scope.pagina,scope.itemsTotales,scope.itemsPorPagina)},scope.openHideColumnModal=function(){scope.clearEditMode();var hideColumnModal=$modal.open({templateUrl:"itvGridTemplates/src/templates/hideColumnModal.html",controller:HideColumnModalCtrl,resolve:{headers:function(){return scope.headers},hiddenColumns:function(){return scope.hiddenColumns}}});hideColumnModal.result.then(function(columnsToHide){var columnsChange=scope.hiddenColumns.length!=columnsToHide.length?!0:_.difference(scope.hiddenColumns,columnsToHide).length>0;scope.hiddenColumns=columnsToHide,UtilsService.setHiddenColumns(scope.headers,columnsToHide),columnsChange&&(scope.reloadFilter(),scope.firstLastTotalObj=UtilsService.getFirstLastTotalObject(scope.pagina,scope.itemsTotales,scope.itemsPorPagina))})},scope.openAdvancedFilterModal=function(){scope.clearEditMode();var advancedFilterModal=$modal.open({templateUrl:"itvGridTemplates/src/templates/advancedFilterModal.html",controller:AdvancedFilterModalCtrl,resolve:{headers:function(){return scope.headers},advancedFilterObj:function(){return scope.advancedFilterObj}}});advancedFilterModal.result.then(function(advancedFilterObj){scope.advancedFilterObj=advancedFilterObj,scope.advancedFilterActive=!0,scope.searchFilter="",scope.genericSearchFilter="",scope.filteredData=UtilsService.filterData(advancedFilterObj,scope.data),scope.itemsTotales=scope.filteredData.length,scope.firstLastTotalObj=UtilsService.getFirstLastTotalObject(scope.pagina,scope.itemsTotales,scope.itemsPorPagina)})};var HideColumnModalCtrl=function($scope,$modalInstance,headers,hiddenColumns){$scope.headerNames=[],angular.forEach(headers,function(value){$scope.headerNames.push(value.name)}),$scope.columnsToHide=[],angular.extend($scope.columnsToHide,hiddenColumns),$scope.ok=function(){console.log("seleccionadas columnas:"),console.log($scope.columnsToHide),$modalInstance.close($scope.columnsToHide)},$scope.cancel=function(){$modalInstance.dismiss("cancel")}},AdvancedFilterModalCtrl=function($scope,$modalInstance,headers,advancedFilterObj){$scope.advancedFilterObj=UtilsService.createAdvancedFilterObj(headers,advancedFilterObj),$scope.headerNames=[],angular.forEach(headers,function(value){value.isHidden||$scope.headerNames.push(value.name)}),$scope.ok=function(){$modalInstance.close($scope.advancedFilterObj)},$scope.cancel=function(){$modalInstance.dismiss("cancel")}}}}}]);var itvFiltersModule=angular.module("itvFilters",["itvMessagesModule"]);itvFiltersModule.filter("paginationFilter",function(){return function(input,pagina,itemsPorPagina){if(_.isUndefined(input))return input;var itemInicio=1==pagina?0:(pagina-1)*itemsPorPagina;return input.slice(itemInicio,itemInicio+1*itemsPorPagina)}}),itvFiltersModule.filter("capitalize",function(){return function(input){return angular.isString(input)&&input?input.substring(0,1).toUpperCase()+input.substring(1):input}}),itvFiltersModule.filter("messageFilter",["itvMessages",function(itvMessages){return function(key){return angular.isString(key)&&key?itvMessages[key]||key:key}}]);var dataResourceModule=angular.module("itvDataResource",[]);dataResourceModule.provider("DataResource",function(){var configurador={},configObj={};configurador.configurar=function(obj,config){config.url=angular.isUndefined(config.url)?"":config.url,obj.setUrl=function(url){_.isUndefined(url)||("/"!==url.charAt(url.length-1)&&(url+="/"),config.url=url,console.log("Establecida url: "+config.url))},obj.getUrl=function(){return config.url},config.idField=_.isUndefined(config.idField)?"id":config.idField,obj.setIdField=function(idField){_.isUndefined(idField)||(config.idField=idField)},obj.getIdField=function(){return config.idField},config.requestParams=config.requestParams||{},obj.setRequestParams=function(params){_.isUndefined(params)||(config.requestParams=params)},config.defaultRequestDataTransformer=function(data){return data},config.requestDataTransformer=_.isUndefined(config.requestDataTransformer)?config.defaultRequestDataTransformer:config.requestDataTransformer,obj.setRequestDataTransformer=function(requestDataTransformerFunction){_.isFunction(requestDataTransformerFunction)&&(config.requestDataTransformer=requestDataTransformerFunction)}},configurador.configurar(this,configObj),this.$get=["$http","$log","$q",function($http,$log,$q){function createServiceInstance(configuration){var DataResource=function(data){angular.extend(this,data)},getId=function(data){var field=data;return angular.forEach(configuration.idField.split("."),function(value){field=field[value]}),field};return DataResource.query=function(){$log.log("query class function");var deferred=$q.defer();return $http.get(configuration.url,{params:configuration.requestParams}).then(function(response){$log.log(response.data);var result=[];angular.forEach(response.data,function(value,key){result[key]=new DataResource(value)}),deferred.resolve(result)}),deferred.promise},DataResource.get=function(id){$log.log("get(id) class function");var getUrl=configuration.url+id,deferred=$q.defer();return $http.get(getUrl,{params:configuration.requestParams}).then(function(data){var resource=new DataResource(data);deferred.resolve(resource)}),deferred.promise},DataResource.prototype.$id=function(){return getId(this)},DataResource.save=function(data){var deferred=$q.defer();return $http.post(configuration.url,data,{params:configuration.requestParams}).then(function(data){var resource=new DataResource(data);deferred.resolve(resource)}),deferred.promise},DataResource.prototype.$save=function(){return $log.log("save instance function"),DataResource.save(this)},DataResource.remove=function(data){$log.log("remove class function");var id=_.isObject(data)?data.$id():data,removeUrl=configuration.url+id;return $http.delete(removeUrl,{params:configuration.requestParams})},DataResource.prototype.$remove=function(){return $log.log("remove instance function"),DataResource.remove(this)},DataResource.update=function(data){$log.log("update class function");var id=data instanceof DataResource?data.$id():getId(data),updateUrl=configuration.url+id,transformedData=configuration.requestDataTransformer(data,configuration.idField),deferred=$q.defer();return $http.put(updateUrl,transformedData,{params:configuration.requestParams,headers:{"Content-Type":"application/json"}}).then(function(result){var dr=new DataResource(result.data);deferred.resolve(dr)}),deferred.promise},DataResource.prototype.$update=function(){return $log.log("update instance function"),DataResource.update(this)},DataResource.getInstanceWithSpecificConfig=function(specificConfigFunct){var specificConfig=angular.copy(configuration);return configurador.configurar(specificConfig,specificConfig),specificConfigFunct(specificConfig),createServiceInstance(specificConfig)},configurador.configurar(DataResource,configuration),DataResource}return createServiceInstance(configObj)}]});var itvMessagesModule=angular.module("itvMessagesModule",[]);itvMessagesModule.value("itvMessages",{"panelbody.search.label":"Buscar: ","panelbody.search.tooltip":"Filtro por columna activado","panelbody.menu.add":"Nuevo Registro","panelbody.menu.hidecolumns":"Ocultar Columnas","panelbody.menu.filtercolumns":"Filtrar Columnas","panelbody.page.items":"Filas por p&aacute;gina: ","panelbody.search.btn.tooltip":"Buscar en todas las columnas","panelbody.remove.btn.tooltip":"Eliminar filtro por columna","panelbody.options.btn.tooltip":"Opciones","panelfooter.number.items":"Mostrando {{ firstLastTotalObj.initIndex }} - {{ firstLastTotalObj.endIndex }} de {{ firstLastTotalObj.totalItems }} elementos","modal.hidecolumns.label":"Seleccionar columnas a ocultar","modal.filter.label":"Filtrar por campos","modal.btn.ok":"Aceptar","modal.btn.cancel":"Cancelar","modal.btn.filter":"Filtrar","action.btn.delete.tooltip":"Borrar elemento","action.btn.edit.tooltip":"Editar elemento","action.btn.undo.tooltip":"Deshacer","action.btn.save.tooltip":"Guardar","action.btn.clearedit.tooltip":"Quitar edici&oacute;n","table.header.action":"Acci&oacute;n"});var utilsServiceModule=angular.module("itvUtilsService",["itvDataResource"]);utilsServiceModule.factory("UtilsService",["filterFilter","DataResource",function(filterFilter,DataResource){var UtilsService={};return UtilsService.createHeaders=function(headers,notEditableFields,hiddenColumns,idField){var classHeaders=[];return angular.forEach(headers,function(value){if(!angular.isArray(value)||!angular.isObject(value[1])&&!angular.isArray(value[1])){var nombre=angular.isArray(value)?value[0]:value;classHeaders.push({name:nombre,isEditable:!_.contains(notEditableFields,nombre),isHidden:_.contains(hiddenColumns,nombre),isInsertable:nombre!==idField})}}),classHeaders},UtilsService.filterData=function(filterParams,scopedData){return angular.isString(filterParams)?filterParams.length>0?filterFilter(scopedData,filterParams):scopedData:angular.isFunction(filterParams)?filterFilter(scopedData,filterParams):angular.isObject(filterParams)&&!_.isEmpty(filterParams)?filterFilter(scopedData,filterParams):scopedData},UtilsService.setHiddenColumns=function(headers,hiddenColumns){angular.forEach(headers,function(value){value.isHidden=_.contains(hiddenColumns,value.name)})},UtilsService.createAdvancedFilterObj=function(headers,advancedFilterObj){var newAdvancedFilter={};return angular.forEach(headers,function(value){value.isHidden||(newAdvancedFilter[value.name]=""||advancedFilterObj[value.name])}),newAdvancedFilter},UtilsService.createCustomFilterFunction=function(filterText,headers){return function(obj){var text=(""+filterText).toLowerCase();for(var i in headers){var property=headers[i].name;if(!headers[i].isHidden&&obj.hasOwnProperty(property)&&(""+obj[property]).toLowerCase().indexOf(text)>-1)return!0}return!1}},UtilsService.getFirstLastTotalObject=function(currentPage,totalItems,itemsPerPage){var initIndex=(currentPage-1)*itemsPerPage+1,endIndex=initIndex-1+1*itemsPerPage;return endIndex>totalItems&&(endIndex=totalItems),initIndex>endIndex&&(initIndex=endIndex),{initIndex:initIndex,endIndex:endIndex,totalItems:totalItems}},UtilsService.getSpecificDataService=function(specificConfigDataService){if(_.isEmpty(specificConfigDataService))return DataResource;console.log(JSON.stringify(specificConfigDataService));var specificConfigFunction=function(configurer){specificConfigDataService.id&&configurer.setIdField(specificConfigDataService.id),specificConfigDataService.params&&configurer.setRequestParams(specificConfigDataService.params),specificConfigDataService.url&&configurer.setUrl(specificConfigDataService.url),specificConfigDataService.requestDataTx&&configurer.setRequestDataTransformer(specificConfigDataService.requestDataTx)};return DataResource.getInstanceWithSpecificConfig(specificConfigFunction)},UtilsService.getStripIdOnUpdateTransformer=function(){return function(data,idField){var id=idField.split(".")[0],strippedIdObj={};return strippedIdObj[id]=void 0,angular.extend({},data,strippedIdObj)}},UtilsService.getSimpleTransformer=function(){return function(data){return data}},UtilsService}]);var itvAnimationsModule=angular.module("itvAnimations",[]);itvAnimationsModule.animation(".itvSlide",["$timeout",function($timeout){var height=0;return{beforeAddClass:function(element,className,done){"ng-hide"===className?(height=element.height(),element.addClass("overflowHidden"),TweenMax.to(element,1,{css:{height:0},onComplete:done})):done()},removeClass:function(element,className,done){"ng-hide"===className?(TweenMax.to(element,1,{css:{height:height},onComplete:done}),$timeout(function(){element.removeClass("overflowHidden"),element.css("height","auto")},1100)):done()}}}]),itvAnimationsModule.animation(".itvFade",function(){return{beforeAddClass:function(element,className,done){"ng-hide"===className?TweenMax.to(element,1,{css:{opacity:0},onComplete:done}):done()},removeClass:function(element,className,done){"ng-hide"===className?TweenMax.to(element,1,{css:{opacity:1},onComplete:done}):done()}}}),itvAnimationsModule.animation(".itvDetailSlide",function(){return{enter:function(element,done){var div=element.find("div.overflowHidden"),height=div.css("height");element.addClass("overflowHidden"),div.css("height",0),TweenMax.to(div,1,{css:{height:height},onComplete:done})},leave:function(element,done){element.addClass("overflowHidden");var div=element.find("div.overflowHidden");TweenMax.to(div,1,{css:{height:0},onComplete:done})}}}),angular.module("itvGrid").run(["$templateCache",function($templateCache){$templateCache.put("itvGridTemplates/src/templates/advancedFilterModal.html",'<div class="modal-header">\r\n    <h3 itv-message="modal.filter.label"></h3>\r\n</div>\r\n<div class="modal-body">\r\n    <form class="form-horizontal" role="form">\r\n        <div class="form-group" ng-repeat="name in headerNames">\r\n            <label class="col-sm-2 control-label" for="{{name}}">{{name | capitalize}}</label>\r\n            <div class="col-sm-8">\r\n                <input type="text" class="form-control" ng-model="advancedFilterObj[name]" id="{{name}}">\r\n            </div>\r\n        </div>\r\n    </form>\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary" ng-click="ok()" itv-message="modal.btn.filter"></button>\r\n    <button class="btn btn-warning" ng-click="cancel()" itv-message="modal.btn.cancel"></button>\r\n</div>'),$templateCache.put("itvGridTemplates/src/templates/hideColumnModal.html",'<div class="modal-header">\r\n    <h3 itv-message="modal.hidecolumns.label"></h3>\r\n</div>\r\n<div class="modal-body">\r\n    <form class="form-horizontal" role="form">\r\n        <div class="form-group">\r\n            <ul>\r\n                <li ng-repeat="name in headerNames">\r\n                    <div class="checkbox">\r\n                        <label><input type="checkbox" value="{{name}}" itv-checkboxlist="columnsToHide"> {{ name | capitalize}}</label>\r\n\r\n                    </div>\r\n\r\n                </li>\r\n            </ul>\r\n\r\n        </div>\r\n    </form>\r\n</div>\r\n<div class="modal-footer">\r\n    <button class="btn btn-primary" ng-click="ok()" itv-message="modal.btn.ok"></button>\r\n    <button class="btn btn-warning" ng-click="cancel()" itv-message="modal.btn.cancel"></button>\r\n</div>'),$templateCache.put("itvGridTemplates/src/templates/itvGrid.html",'<div class="panel panel-default">\r\n    <itv-panelheader></itv-panelheader>\r\n    <div class="animated-panel itvSlide" ng-hide="isCollapsed">\r\n        <itv-panelbody></itv-panelbody>\r\n        <table class="table table-striped table-bordered table-condensed table-hover" id="tableTest">\r\n            <thead>\r\n            <tr>\r\n                <th ng-repeat="header in headers" ng-click="setOrderBy(header.name)" class="headerStyle itvFade" ng-hide="header.isHidden">\r\n                    {{ header.name | capitalize}}\r\n                    <i ng-class="{\'fa-sort-asc\': orderBy.asc, \'fa-sort-desc\': !orderBy.asc}" ng-show="orderBy.headerName == header.name" class="fa rightFloater"></i>\r\n                    <i class="fa fa-sort rightFloater" ng-show="orderBy.headerName != header.name"></i>\r\n                </th>\r\n                <th class="col-xs-1" itv-message="table.header.action" ng-show="allowCUD"></th>\r\n            </tr>\r\n            </thead>\r\n            <tbody>\r\n            <tr ng-show="insertMode">\r\n                <td ng-repeat="header in headers" ng-hide="header.isHidden" class="itvFade">\r\n                    <div ng-show="header.isInsertable"><input class="form-control" type="text" ng-model="insertRow[header.name]"></div>\r\n                </td>\r\n                <td>\r\n                    <div class="btn-group">\r\n                        <button class="btn btn-default btn-sm" ng-click="insertData()" itv-tooltipfade="" tooltip="{{ \'action.btn.save.tooltip\' | messageFilter }}">\r\n                            <i class="fa fa-save fa-lg"></i>\r\n                        </button>\r\n                        <button class="btn btn-default btn-sm" ng-click="setInsertMode()" itv-tooltipfade="" tooltip="{{ \'action.btn.undo.tooltip\' | messageFilter }}">\r\n                            <i class="fa fa-reply fa-lg"></i>\r\n                        </button>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n            <tr ng-repeat-start="row in filteredData | orderBy:orderBy.headerName:!orderBy.asc | paginationFilter:pagina:itemsPorPagina">\r\n                <td ng-repeat="header in headers" ng-hide="header.isHidden" class="itvFade" ng-class="isRowClickable()" ng-click="addDetailIndex($parent.$index)">\r\n                    <div ng-if="row.editMode == null || row.editMode == false || !header.isEditable">{{ row[header.name] }}</div>\r\n                    <div ng-if="row.editMode == true && header.isEditable"><input class="form-control" type="text" ng-model="copiedEditingRow[header.name]"></div>\r\n                </td>\r\n                <td ng-if="allowCUD">\r\n                    <div class="btn-group" ng-show="row.editMode == null || row.editMode == false">\r\n                        <button class="btn btn-default btn-sm" ng-click="deleteData(row)" itv-tooltipfade="" tooltip="{{ \'action.btn.delete.tooltip\' | messageFilter }}" ng-disabled="detailIndex == $index">\r\n                            <i class="fa fa-trash-o fa-lg"></i>\r\n                        </button>\r\n                        <button class="btn btn-default btn-sm" ng-click="setRowEditable(row)" itv-tooltipfade="" tooltip="{{ \'action.btn.edit.tooltip\' | messageFilter }}" ng-disabled="detailIndex == $index">\r\n                            <i class="fa fa-edit fa-lg"></i>\r\n                        </button>\r\n                    </div>\r\n                    <div class="btn-group" ng-show="row.editMode == true">\r\n                        <button class="btn btn-default btn-sm" ng-click="setRowEditable(row)" itv-tooltipfade="" tooltip="{{ \'action.btn.undo.tooltip\' | messageFilter }}">\r\n                            <i class="fa fa-reply fa-lg"></i>\r\n                        </button>\r\n                        <button class="btn btn-default btn-sm" ng-click="updateData(copiedEditingRow)" ng-show="row.editMode == true" itv-tooltipfade="" tooltip="{{ \'action.btn.save.tooltip\' | messageFilter }}">\r\n                            <i class="fa fa-save fa-lg"></i>\r\n                        </button>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n            <tr ng-repeat-end="" ng-if="masterDetailActive && !editActive && (detailIndex == $index)" class="itvDetailSlide">\r\n                <td colspan="100%" class="noHover">\r\n                   <div class="overflowHidden">\r\n                       <ul>\r\n                           <li ng-repeat="detail in detailCols"><b>{{detail | capitalize}}</b>: {{ row[detail] }}</li>\r\n                       </ul>\r\n                   </div>\r\n                </td>\r\n            </tr>\r\n            </tbody>\r\n        </table>\r\n        <itv-panelfooter></itv-panelfooter>\r\n    </div>\r\n</div>'),$templateCache.put("itvGridTemplates/src/templates/panelBody.html",'<div class="panel-body">\r\n    <form class="form-inline" role="form">\r\n        <div class="form-group" ng-hide="advancedFilterActive">\r\n            <label for="buscar" itv-message="panelbody.search.label"></label>\r\n            <input class="form-control" type="text" id="buscar" ng-model="genericSearchFilter" ng-disabled="advancedFilterActive" itv-enterkey="doGenericFilter()" itv-blur="doGenericFilter()">\r\n        </div>\r\n        <div class="form-group" tooltip="{{\'panelbody.search.tooltip\' | messageFilter }}" itv-tooltipfade="" ng-show="advancedFilterActive">\r\n            <label for="buscardisabled" itv-message="panelbody.search.label"></label>\r\n            <input class="form-control" type="text" id="buscardisabled" ng-disabled="advancedFilterActive">\r\n        </div>\r\n        <div class="form-group">\r\n            <button class="btn btn-default btn-sm form-control" ng-hide="advancedFilterActive" itv-tooltipfade="" ng-click="doGenericFilter()" tooltip="{{ \'panelbody.search.btn.tooltip\' | messageFilter }}">\r\n                <i class="fa fa-filter fa-lg"></i>\r\n            </button>\r\n            <button class="btn btn-default btn-sm form-control" ng-show="advancedFilterActive" itv-tooltipfade="" ng-click="clearAdvancedFilter()" tooltip="{{ \'panelbody.remove.btn.tooltip\' | messageFilter }}">\r\n                <i class="fa fa-times fa-lg"></i>\r\n            </button>\r\n        </div>\r\n        <div class="form-group dropdown rightFloater options-btn">\r\n            <button class="btn btn-default btn-sm dropdown-toggle form-control rightFloater" itv-tooltipfade="" tooltip="{{ \'panelbody.options.btn.tooltip\' | messageFilter }}">\r\n                <i class="fa fa-cog fa-lg"></i>\r\n                <i class="fa fa-sort-down"></i>\r\n            </button>\r\n            <ul class="dropdown-menu">\r\n                <li class="clickable menuItem" ng-click="setInsertMode()" ng-show="allowCUD">\r\n                    <i class="fa fa-plus fa-lg"></i> <span itv-message="panelbody.menu.add"></span>\r\n                </li>\r\n                <li class="clickable menuItem" ng-click="openHideColumnModal()">\r\n                    <i class="fa fa-columns fa-lg"></i> <span itv-message="panelbody.menu.hidecolumns"></span>\r\n                </li>\r\n                <li class="clickable menuItem" ng-click="openAdvancedFilterModal()">\r\n                    <i class="fa fa-filter fa-lg"></i> <span itv-message="panelbody.menu.filtercolumns"></span>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n        <div class="form-group rightFloater">\r\n            <label for="itemsPorPagina" itv-message="panelbody.page.items"></label>\r\n            <select class="form-control" id="itemsPorPagina" ng-model="itemsPorPagina" ng-change="updateLiteral()">\r\n                <option>10</option>\r\n                <option>25</option>\r\n                <option>50</option>\r\n            </select>\r\n        </div>\r\n    </form>\r\n</div>'),$templateCache.put("itvGridTemplates/src/templates/panelFooter.html",'<div class="panel-footer">\r\n    <div class="leftFloater" itv-message="panelfooter.number.items" itv-message-param="{{ firstLastTotalObj }}">\r\n    </div>\r\n    <div class="rightFloater">\r\n        <pagination boundary-links="true" total-items="itemsTotales" page="pagina" items-per-page="itemsPorPagina" class="pagination-sm" max-size="5" rotate="false" on-select-page="cambioPagina(page)" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"></pagination>\r\n    </div>\r\n    <div class="clearBoth"></div>\r\n</div>'),$templateCache.put("itvGridTemplates/src/templates/panelHeader.html",'<div class="panel-heading">\r\n    <div>\r\n        <div class="leftFloater"><i class="fa fa-table"></i> {{title}}</div>\r\n        <div class="rightFloater clickable">\r\n            <i class="fa" ng-class="{\'fa-chevron-up\': !isCollapsed, \'fa-chevron-down\': isCollapsed}" ng-click="collapse()"></i>\r\n        </div>\r\n        <div class="clearBoth"></div>\r\n    </div>\r\n</div>')
}]);